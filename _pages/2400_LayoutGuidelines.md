---
title: Рекомендации по оформлению
permalink: /layout-guidelines/
classes: wide
search: true
sidebar:
  nav: "sidebar"
---

### <a name="av2400"></a> Используйте общие правила оформления (AV2400) ![](/assets/images/1.png)

- Держите длину строк в пределах 130 символов.

- В качестве отступов используйте 4 пробела и не используйте табуляцию.

- Вставляйте один пробел между выражениями (например `if`), а также ключевыми словами. Не используйте пробелы после `(` и перед `)`. Например: `if (condition == null)`.

- Добавляйте пробел перед и после операторов (например `+`, `-`, `==`).

- Всегда переносите открывающию и закрывающию скобку на новую строку.

- Не устанавливайте значение каждого свойства объекта в новой строке после инициализации объекта. Используйте следующий формат: 

		var dto = new ConsumerDto
		{
			Id = 123,
			Name = "Microsoft",
			PartnerShip = PartnerShip.Gold,
			ShoppingCart =
			{
				["VisualStudio"] = 1
			}
		};

- Не разделяйте объявление лямбда-выражения на несколько строк. Используйте формат, как показано ниже:

		methodThatTakesAnAction.Do(x =>
		{ 
			// do something like this 
		}

- Держите логически связанные элементы выражения в одной строке. Разбивайте длинные выражения после знака стрелочки как показано ниже:

		private string GetLongText =>
			"ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC ABC";

- Объявляйте LINQ-запрос в одной строке или объявляйте каждое ключевое слово этого запроса в новой строке, как показано ниже:

		var query = from product in products where product.Price > 10 select product;

  	или

		var query =  
		    from product in products  
		    where product.Price > 10  
		    select product;

- Начинайте LINQ-запрос с объявления всех выражений `from` и не перемешивайте их с условными выражениями.

- Добавляйте скобки вокруг каждого сравнения в условном выражении, но не добавляйте их вокруг одиночного выражения. Например: `if (!string.IsNullOrEmpty(str) && (str != “new”))`.

- Добавляйте пустую строку между многострочными выражениями, членами класса, после закрытия парных скобок, после несвязанных друг с другом блоков кода, перед и после ключевого слова `#region` и между директивами `using`, если пространства имен относятся к различным компаниям.

### <a name="av2402"></a> Располагайте и группируйте пространства имен в соответствии с названием компании (AV2402) ![](/assets/images/3.png)

	// Пространства имен Microsoft первые
	using System;
	using System.Collections.Generic;
	using System.XML;
	
	// Другие пространства имен идут в алфавитном порядке
	using AvivaSolutions.Business;
	using AvivaSolutions.Standard;
	using Telerik.WebControls;
	using Telerik.Ajax;

Статические директивы и алиасы должны использоваться после объявления используемых пространств имен.
Используйте их перед объявлением пространства имен (не внутри).

### <a name="av2406"></a> Располагайте члены класса в строго определенном порядке (AV2406) ![](/assets/images/1.png)
Сохранение общего порядка позволяет другим членам команды легче ориентироваться в вашем коде. В общем случае, чтение файла с исходным кодом должно идти сверху вниз, как если бы вы читали книгу. Это предотвращает ситуацию, когда приходится просматривать файл вверх и вниз в поисках нужного фрагмента.

1. Приватные поля и константы (в `#region`)
2. Публичные константы
3. Публичные `read-only` статические поля
4. Фабричные методы
5. Конструкторы и финализаторы
6. События
7. Публичные свойства
8. Прочие методы и приватные свойства в порядке их вызова

Объявляйте локальные функции внизу метода, который их содержит (после всего выполняемого кода).

### <a name="av2407"></a> Будьте осторожны с использованием ключевого слова `#region` (AV2407) ![](/assets/images/1.png)
Ключевое слово `#region` может быть полезно, но оно также может скрывать основное предназначение класса. Следовательно, используйте `#region` только для:

- Приватных полей и констант (предпочтительно в `Private Definitions` region)
- Вложенных классов
- Реализаций интерфейса (только если реализация интерфейса не является основной целью этого класса)

### <a name="av2410"></a> С остарожностью используйте выражения в качестве членов класса (AV2410) ![](/assets/images/1.png)
Используйте выражаения вместо обычного синтаксиса в качестве значений членов класса только тогда, когда:

- тело выражения состоит из одного условия (факта).
- тело выражения мещается в одну строку.
